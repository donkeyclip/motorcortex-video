const _CONST = require('../_CONST');
const _TREECONST = require('../../Tree/_CONST');

function editProperties(payload) {
    payload.descriptor.value = function (newProps) {
        const checkIfBelongsToClip = this.putMessageOnPipe('checkForClip', {},
            _CONST._TARGETTYPES._DECISIONAUTHORITY, { selfExecute: true, direction: _TREECONST._DIRECTIONS._UP });
        if (checkIfBelongsToClip.response === true) { // if the Group belongs on a Clip
            return this.manageEditAttrProps(newProps, 'props');
        }
        else {
            this.props = newProps;
            return {
                result: true
            }
        }
    }
}

module.exports = editProperties;
