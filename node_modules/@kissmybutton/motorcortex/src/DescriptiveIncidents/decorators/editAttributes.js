const _CONST = require('../_CONST');
const _TREECONST = require('../../Tree/_CONST');

function editAttributes(payload) {
    payload.descriptor.value = function (newAttrs) {
        const checkIfBelongsToClip = this.putMessageOnPipe('checkForClip', {},
            _CONST._TARGETTYPES._DECISIONAUTHORITY, { selfExecute: true, direction: _TREECONST._DIRECTIONS._UP });
        if (checkIfBelongsToClip.response === true) { // if the Group belongs on a Clip
            return this.manageEditAttrProps(newAttrs, 'attrs');
        }
        else {
            this.attrs = newAttrs;
            return {
                result: true
            }
        }
    }
}

module.exports = editAttributes;
