"use strict";

var _CONST = require('../_CONST');

var _TREECONST = require('../../Tree/_CONST');

function editAttributes(payload) {
  payload.descriptor.value = function (newAttrs) {
    var checkIfBelongsToClip = this.putMessageOnPipe('checkForClip', {}, _CONST._TARGETTYPES._DECISIONAUTHORITY, {
      selfExecute: true,
      direction: _TREECONST._DIRECTIONS._UP
    });

    if (checkIfBelongsToClip.response === true) {
      // if the Group belongs on a Clip
      return this.manageEditAttrProps(newAttrs, 'attrs');
    } else {
      this.attrs = newAttrs;
      return {
        result: true
      };
    }
  };
}

module.exports = editAttributes;